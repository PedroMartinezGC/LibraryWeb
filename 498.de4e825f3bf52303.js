"use strict";(self.webpackChunkfranco_project=self.webpackChunkfranco_project||[]).push([[498],{2498:(P,g,s)=>{s.r(g),s.d(g,{EbooksModule:()=>U});var l=s(6895),m=s(3456);const h=JSON.parse('[{"name":"Sesenta semanas en el tr\xf3pico","out":"2003","author":"Antonio Escohotado","image":"assets/images/ebooks/sesentasemanas.jpeg","inserted":"01-05-2020","id":"1"},{"name":"Aprendiendo de las drogas","out":"2006","author":"Antonio Escohotado","image":"assets/images/ebooks/aprendiendodelasdrogas.webp","inserted":"01-02-2021","id":"2"},{"name":"El esp\xedritu de la comedia","out":"2006","author":"Antonio Escohotado","image":"assets/images/ebooks/elespiritudelacomedia.webp","inserted":"01-02-2022","id":"3"},{"name":"Historia elemental de las drogas","out":"2006","author":"Antonio Escohotado","image":"assets/images/ebooks/historiaelementaldelasdrogas.jpg","inserted":"11-02-2020","id":"4"},{"name":"Rameras y esposas","out":"2006","author":"Antonio Escohotado","image":"assets/images/ebooks/ramerasyesposas.jpg","inserted":"15-03-2019","id":"5"},{"name":"Billy Summers","out":"1990","author":"Stephen King","image":"assets/images/ebooks/billysummers.jpg","inserted":"30-12-2018","id":"6"},{"name":"Despu\xe9s","out":"2022","author":"Stephen King","image":"assets/images/ebooks/despues.jpg","inserted":"30-11-2018","id":"7"},{"name":"Cuento de hadas","out":"2022","author":"Stephen King","image":"assets/images/ebooks/cuentodehadas.jpg","inserted":"30-12-2019","id":"8"},{"name":"It","out":"1994","author":"Stephen King","image":"assets/images/ebooks/it.jpg","inserted":"15-12-2020","id":"9"},{"name":"El resplandor","out":"1990","author":"Stephen King","image":"assets/images/ebooks/elresplandor.jpg","inserted":"30-12-2018","id":"10"}]');var b=s(4949),e=s(4650),k=s(1751),_=s(8270),x=s(566),C=s(5938),c=s(4006),v=s(4859),u=s(9549),E=s(4144),M=s(3336),p=s(9602),T=s(9370);const I=["addNewModal"],Z=["pageContent"];function w(i,r){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Guardar"),e.qZA())}function D(i,r){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Editar"),e.qZA())}function A(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"mat-datepicker-toggle",30),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.clearDate("startDate"))}),e.TgZ(1,"mat-icon",31),e._uU(2,"clear"),e.qZA()()}}function y(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"mat-datepicker-toggle",30),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.clearDate("finalDate"))}),e.TgZ(1,"mat-icon",31),e._uU(2,"clear"),e.qZA()()}}const S=function(){return{width:"30px",border:"inherit"}},F=function(){return{width:"0px",border:"0px"}};function O(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"div",32),e.NdJ("mouseover",function(){const a=e.CHM(o).index,d=e.oxw();return e.KtG(d.checkEbookHover(a,!0))})("mouseout",function(){const a=e.CHM(o).index,d=e.oxw();return e.KtG(d.checkEbookHover(a,!1))}),e.TgZ(2,"div",33),e._UZ(3,"img",34),e.TgZ(4,"div",35)(5,"mat-icon",36),e.NdJ("click",function(){const a=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d.deleteEbook(a.id))}),e._uU(6,"delete"),e.qZA(),e.TgZ(7,"mat-icon",37),e.NdJ("click",function(){const n=e.CHM(o),a=n.index,d=n.$implicit,f=e.oxw();return f.setEdition(a,d.id),e.KtG(f.showCreateNewEbookModal(!0))}),e._uU(8,"edit"),e.qZA()()(),e.TgZ(9,"div")(10,"span",38),e._uU(11),e.qZA(),e.TgZ(12,"div")(13,"span",39),e._uU(14),e.qZA(),e.TgZ(15,"span",40),e._uU(16),e.qZA()()()()()}if(2&i){const o=r.$implicit,t=r.index,n=e.oxw();e.xp6(3),e.Q6J("src",o.image,e.LSH),e.xp6(1),e.Q6J("ngStyle",n.ebookHoveredIndex==t?e.DdM(5,S):e.DdM(6,F)),e.xp6(7),e.Oqu(o.name),e.xp6(3),e.Oqu(o.author),e.xp6(2),e.Oqu(o.out)}}const N=[{path:"",component:(()=>{class i{constructor(o,t,n,a,d){this.sharingDataSrv=o,this.utilsSrv=t,this.renderer2=n,this.notificationsSrv=a,this.dialog=d,this.ebooksSaved=h,this.ebookHoveredIndex=void 0,this.ebookEditedIndex=void 0,this.ebookEditedId=void 0,this.ebookFilter={searchbar:"",startDate:void 0,finalDate:void 0},this.searchbarFilter={name:"",out:"",author:""},this.ebookInputs={name:"",out:"",image:"",inserted:"",id:""},this.sharingDataSrv.currentRoute.emit("ebooks"),this.filterData()}ngOnInit(){}goUp(){this.pageContent.nativeElement.scrollIntoView({behavior:"smooth"})}showCreateNewEbookModal(o){o?this.renderer2.setStyle(this.addNewModal.nativeElement,"left","0px"):(this.renderer2.setStyle(this.addNewModal.nativeElement,"left","-1000px"),this.ebookEditedIndex=void 0)}filterData(){this.ebooksList=this.ebooksSaved,this.ebookFilter.startDate||(this.ebookFilter.startDate=void 0),this.ebookFilter.finalDate||(this.ebookFilter.finalDate=void 0);const o=this.ebooksList.filter(t=>{let n=new Date(this.utilsSrv.parseDateByFormat(t.inserted,"DD/MM/YYYY hh:m:s","MM/DD/YYYY"));return!!this.utilsSrv.dataBetween(n,this.ebookFilter.startDate,this.ebookFilter.finalDate)});if(this.ebookFilter.searchbar){const t=this.utilsSrv.searchCollection(this.ebookFilter.searchbar,o,this.searchbarFilter);this.ebooksList=t}else this.ebooksList=o}clearDate(o){"startDate"==o?this.ebookFilter.startDate=void 0:this.ebookFilter.finalDate=void 0,this.filterData()}getSearchbarText(o){this.ebookFilter.searchbar=o,this.filterData()}imageChanged(o){if(o.target.files){let t=new FileReader;t.readAsDataURL(o.target.files[0]),t.onload=n=>{this.ebookInputs.image=n.target.result}}}checkEbookHover(o,t){this.ebookHoveredIndex=t?o:void 0}setAddition(){for(let o in this.ebookInputs)this.ebookInputs[o]="";this.ebookEditedIndex=void 0,setTimeout(()=>{this.showCreateNewEbookModal(!0)},200)}addEbook(){this.ebookInputs.inserted=this.utilsSrv.getDate(),this.ebookInputs.id=(this.ebooksSaved.length+1).toString(),this.ebookInputs.image||(this.ebookInputs.image="assets/images/undefined.png");let o=this.utilsSrv.createDeepCopy(this.ebookInputs);if(this.ebookInputs.name&&this.ebookInputs.out){this.ebooksSaved.unshift(o),this.showCreateNewEbookModal(!1),this.filterData();for(let t in this.ebookInputs)this.ebookInputs[t]="";this.notificationsSrv.showTemporalMessage("A\xf1adido con \xe9xito","OK",2500,"snackbar-green")}else this.notificationsSrv.showAlert("Introduzca un nombre y fecha de lanzamiento.")}setEdition(o,t){for(let n in this.ebookInputs)this.ebookInputs[n]="";this.goUp(),setTimeout(()=>{this.showCreateNewEbookModal(!0)},200),this.ebooksSaved.find(n=>{n.id==t&&(this.ebookInputs.inserted=this.utilsSrv.getDate(),this.ebookInputs.name=n.name,this.ebookInputs.out=n.out,this.ebookInputs.image=n.image,this.ebookInputs.id=n.id)}),this.ebookEditedIndex=o,this.ebookEditedId=t}editEbook(){let o=this.utilsSrv.createDeepCopy(this.ebookInputs);if(this.ebookInputs.name&&this.ebookInputs.out){this.ebooksSaved.find(t=>{t.id==this.ebookEditedId&&Object.assign(t,o)}),this.showCreateNewEbookModal(!1),this.filterData(),this.ebookEditedIndex=void 0;for(let t in this.ebookInputs)this.ebookInputs[t]="";this.notificationsSrv.showTemporalMessage("Editado con \xe9xito","OK",2500,"snackbar-blue")}else this.notificationsSrv.showAlert("Introduzca un nombre, fecha de lanzamiento y plataforma.")}deleteEbook(o){this.dialog.open(b.$,{data:{message:"\xbfEst\xe1 seguro de que quiere eliminarlo?"},height:"180px",width:"300px",panelClass:"confirm-dialog"}).afterClosed().subscribe(n=>{if(1==n){let a=this.ebooksSaved.findIndex(d=>d.id==o);this.ebooksSaved.splice(a,1),this.notificationsSrv.showTemporalMessage("Eliminado con \xe9xito","OK",2500,"snackbar-red"),this.filterData()}})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(k.R),e.Y36(_.F),e.Y36(e.Qsj),e.Y36(x.T),e.Y36(C.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ebooks"]],viewQuery:function(o,t){if(1&o&&(e.Gf(I,5),e.Gf(Z,5)),2&o){let n;e.iGM(n=e.CRH())&&(t.addNewModal=n.first),e.iGM(n=e.CRH())&&(t.pageContent=n.first)}},decls:58,vars:15,consts:[[1,"content"],["pageContent",""],[2,"display","flex","justify-content","flex-start","align-items","center"],[1,"title"],["mat-raised-button","","color","warn",1,"add-button",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","home",1,"add-icon"],[1,"searchbar"],["placeholder","Busque su libro...","color","#f44336",3,"inputChange"],[1,"add-new",3,"ngClass"],["addNewModal",""],["matDatepickerToggleIcon","",1,"close-button",3,"click"],[1,"add-new-inputs"],["color","accent",1,"example-full-width"],["matInput","",3,"ngModel","ngModelChange"],[2,"margin-bottom","17px"],["type","file",1,"input-file",3,"change"],[1,"selected-file"],["mat-raised-button","","color","primary",1,"save-button",3,"click"],["style","color: black",4,"ngIf"],[1,"filter"],[1,"date-filter"],["color","warn","appearance","fill"],["matInput","","readonly","true",3,"matDatepicker","ngModel","ngModelChange","dateChange"],["matIconSuffix","",3,"for"],["matSuffix","",3,"click",4,"ngIf"],["picker1",""],["picker2",""],[1,"list"],[4,"ngFor","ngForOf"],[2,"color","black"],["matSuffix","",3,"click"],["matDatepickerToggleIcon",""],[1,"element-detail",3,"mouseover","mouseout"],[1,"portrait"],["alt","",2,"width","auto","height","240px",3,"src"],[1,"action-buttons",3,"ngStyle"],[1,"action-icon",2,"color","#d70808",3,"click"],[1,"action-icon",2,"color","#f5c514",3,"click"],[1,"name-label"],[1,"out-date-label"],[1,"out-date-label",2,"margin-left","7px"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div")(4,"span",3),e._uU(5,"Mis eBooks"),e.qZA()(),e.TgZ(6,"div")(7,"button",4),e.NdJ("click",function(){return t.setAddition()}),e.TgZ(8,"mat-icon",5),e._uU(9,"add"),e.qZA(),e._uU(10,"eBook "),e.qZA()(),e.TgZ(11,"div",6)(12,"app-custom-searchbar",7),e.NdJ("inputChange",function(a){return t.getSearchbarText(a)}),e.qZA()(),e.TgZ(13,"div",8,9)(15,"mat-icon",10),e.NdJ("click",function(){return t.showCreateNewEbookModal(!1)}),e._uU(16,"close"),e.qZA(),e.TgZ(17,"div",11)(18,"div")(19,"mat-form-field",12)(20,"mat-label"),e._uU(21,"Nombre"),e.qZA(),e.TgZ(22,"input",13),e.NdJ("ngModelChange",function(a){return t.ebookInputs.name=a}),e.qZA()()(),e.TgZ(23,"div")(24,"mat-form-field",12)(25,"mat-label"),e._uU(26,"Fecha Lanzamiento"),e.qZA(),e.TgZ(27,"input",13),e.NdJ("ngModelChange",function(a){return t.ebookInputs.out=a}),e.qZA()()(),e.TgZ(28,"div",14)(29,"input",15),e.NdJ("change",function(a){return t.imageChanged(a)}),e.qZA(),e.TgZ(30,"div",16),e._uU(31),e.qZA()()(),e.TgZ(32,"div")(33,"button",17),e.NdJ("click",function(){return null!=t.ebookEditedIndex?t.editEbook():t.addEbook()}),e.YNc(34,w,2,0,"span",18),e.YNc(35,D,2,0,"span",18),e.qZA()()()(),e.TgZ(36,"div",19)(37,"div",20)(38,"div")(39,"mat-form-field",21)(40,"mat-label"),e._uU(41,"Fecha inicial"),e.qZA(),e.TgZ(42,"input",22),e.NdJ("ngModelChange",function(a){return t.ebookFilter.startDate=a})("dateChange",function(){return t.filterData()}),e.qZA(),e._UZ(43,"mat-datepicker-toggle",23),e.YNc(44,A,3,0,"mat-datepicker-toggle",24),e._UZ(45,"mat-datepicker",null,25),e.qZA()(),e.TgZ(47,"div")(48,"mat-form-field",21)(49,"mat-label"),e._uU(50,"Fecha final"),e.qZA(),e.TgZ(51,"input",22),e.NdJ("ngModelChange",function(a){return t.ebookFilter.finalDate=a})("dateChange",function(){return t.filterData()}),e.qZA(),e._UZ(52,"mat-datepicker-toggle",23),e.YNc(53,y,3,0,"mat-datepicker-toggle",24),e._UZ(54,"mat-datepicker",null,26),e.qZA()()()(),e.TgZ(56,"div",27),e.YNc(57,O,17,7,"div",28),e.qZA()()),2&o){const n=e.MAs(46),a=e.MAs(55);e.xp6(13),e.Q6J("ngClass",null!=t.ebookEditedIndex?"edit":""),e.xp6(9),e.Q6J("ngModel",t.ebookInputs.name),e.xp6(5),e.Q6J("ngModel",t.ebookInputs.out),e.xp6(4),e.Oqu(t.ebookInputs.image),e.xp6(3),e.Q6J("ngIf",null==t.ebookEditedIndex),e.xp6(1),e.Q6J("ngIf",null!=t.ebookEditedIndex),e.xp6(7),e.Q6J("matDatepicker",n)("ngModel",t.ebookFilter.startDate),e.xp6(1),e.Q6J("for",n),e.xp6(1),e.Q6J("ngIf",t.ebookFilter.startDate),e.xp6(7),e.Q6J("matDatepicker",a)("ngModel",t.ebookFilter.finalDate),e.xp6(1),e.Q6J("for",a),e.xp6(1),e.Q6J("ngIf",t.ebookFilter.finalDate),e.xp6(4),e.Q6J("ngForOf",t.ebooksList)}},dependencies:[l.mk,l.sg,l.O5,l.PC,c.Fj,c.JJ,c.On,v.lW,u.KE,u.hX,u.R9,E.Nt,M.Hw,p.Mq,p.hl,p.nW,p.Q0,T.E],styles:[".content[_ngcontent-%COMP%]{padding:15px 50px 80px 60px}.title[_ngcontent-%COMP%]{font-family:AnekTamil;font-size:32px}.add-new[_ngcontent-%COMP%]{background:#f44336;position:absolute;width:750px;height:150px;top:176px;z-index:1;left:-1000px;transition-property:left;transition-duration:.5s;transition-timing-function:ease-in-out;border-top-right-radius:5px;border-bottom-right-radius:5px}.edit[_ngcontent-%COMP%]{border-top:3px solid #d5b206}.close-button[_ngcontent-%COMP%]{color:#fff;position:absolute;right:5px;top:5px;cursor:pointer}.save-button[_ngcontent-%COMP%]{display:inline-block;position:absolute;right:10px;bottom:10px;background-color:#fdf6e8}.add-new-inputs[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:20px;align-items:flex-end;margin-top:16px;margin-left:20px;flex-wrap:wrap}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:column}.date-filter[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;gap:40px;margin-top:45px;align-items:flex-end}.searchbar[_ngcontent-%COMP%]{margin-top:-137px;margin-left:48px}.add-button[_ngcontent-%COMP%]{margin-left:25px}.add-icon[_ngcontent-%COMP%]{margin-right:3px;margin-left:-7px}.list[_ngcontent-%COMP%]{margin-top:90px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;gap:70px}.element-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:AnekTamil}.portrait[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;position:relative}.action-buttons[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:15px;background:#0c0c0c;height:75px;padding-top:7px;width:0px;border-top-right-radius:5px;border-bottom-right-radius:5px;box-shadow:4px 1px 7px #312e2e;overflow:hidden;transition:.5s all}.action-icon[_ngcontent-%COMP%]{padding-left:2px;cursor:pointer}.name-label[_ngcontent-%COMP%]{display:block;font-size:16px}.out-date-label[_ngcontent-%COMP%]{font-size:12px;color:#fdf6e8a1}.input-file[_ngcontent-%COMP%]{width:136px}.selected-file[_ngcontent-%COMP%]{width:260px;overflow:hidden;text-overflow:ellipsis;display:inline-block;padding-top:-1px;margin-bottom:-9px}"]}),i})()}];let J=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(N),m.Bz]}),i})(),U=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,J]}),i})()}}]);